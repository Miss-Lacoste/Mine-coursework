import webbrowser #–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
from telebot import types
import telebot
import random

bot = telebot.TeleBot('') #–≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
memory = {} #–ø–∞–º—è—Ç—å –±–æ—Ç–∞, –≤ —Å–ª–æ–≤–∞—Ä–µ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–ª—é—á–µ, –∏ –µ–≥–æ –æ—Ç–≤–µ—Ç –≤ –∑–Ω–∞—á–µ–Ω–∏–∏


@bot.message_handler(commands=["site", "website"]) # –ø—Ä–æ–ø–∏—à–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–∞–π—Ç
def site(message):
    webbrowser.open("https://espanol.online/lexic/by_theme?language=ru") #—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç


@bot.message_handler(commands=['start', 'hello', 'help']) #–ø—Ä–æ–ø–∏—à–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥
def main(message):
    bot.send_message(message.chat.id, f"¬°Hola, {message.from_user.first_name}!") #–æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ id —á–∞—Ç–∞ –∏ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    bot.send_photo(message.chat.id, 'https://flomaster.top/uploads/posts/2022-12/1672269174_flomaster-club-p-vinni-pukh-risunok-dlya-detei-vkontakte-49.png')
    keyboard = types.InlineKeyboardMarkup() #–Ω–∞—á–∏–Ω–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
    key_get_acquainted = types.InlineKeyboardButton(text='Small talk', callback_data='get_acquainted')
    keyboard.add(key_get_acquainted)
    key_site = types.InlineKeyboardButton(text='Website', url="https://espanol.online/lexic/by_theme?language=ru")
    keyboard.add(key_site)
    key_starting = types.InlineKeyboardButton(text="Start learning", callback_data="starting")
    keyboard.add(key_starting)
    bot.send_message(message.from_user.id, text="Choose the action", reply_markup=keyboard)


@bot.message_handler(content_types=["text"]) #–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
def get_text_message(message):
    if message.text.lower() == "–ø—Ä–∏–≤–µ—Ç":
        bot.send_message(message.chat.id, f"¬°Buenas, {message.from_user.first_name}!")
        bot.send_photo(message.chat.id,'https://flomaster.top/uploads/posts/2022-12/1672269174_flomaster-club-p-vinni-pukh-risunok-dlya-detei-vkontakte-49.png')
        keyboard = types.InlineKeyboardMarkup()
        key_get_acquainted = types.InlineKeyboardButton(text='Small talk', callback_data='get_acquainted')
        keyboard.add(key_get_acquainted)
        key_site = types.InlineKeyboardButton(text='Website', url="https://espanol.online/lexic/by_theme?language=ru")
        keyboard.add(key_site)
        key_starting = types.InlineKeyboardButton(text="Start learning", callback_data="starting")
        keyboard.add(key_starting)
        bot.send_message(message.from_user.id, text="Choose the action", reply_markup=keyboard)


@bot.callback_query_handler(func=lambda callback: True) #–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏
def callback_message(callback):
    if callback.data == "starting":
        keyboard_a = types.InlineKeyboardMarkup()
        key_fruits = types.InlineKeyboardButton(text='Fruits', callback_data='fruits')
        keyboard_a.add(key_fruits)
        key_vegetables = types.InlineKeyboardButton(text='Vegetables', callback_data='vegetables')
        keyboard_a.add(key_vegetables)
        key_animals = types.InlineKeyboardButton(text='Animals', callback_data='animals')
        keyboard_a.add(key_animals)
        key_weather = types.InlineKeyboardButton(text='Weather', callback_data='weather')
        keyboard_a.add(key_weather)
        key_weekdays = types.InlineKeyboardButton(text='Days of week', callback_data='weekdays')
        keyboard_a.add(key_weekdays)
        key_colours = types.InlineKeyboardButton(text='Colours', callback_data='colours')
        keyboard_a.add(key_colours)
        bot.send_message(callback.from_user.id, text="Choose the topic", reply_markup=keyboard_a)
    if callback.data == 'get_acquainted':
        keyboard_a = types.InlineKeyboardMarkup()
        key_wonderful = types.InlineKeyboardButton(text='¬°Gracias!', callback_data='wonderful')
        keyboard_a.add(key_wonderful)
        key_gloomy = types.InlineKeyboardButton(text='Ni fu ni fa...', callback_data='gloomy')
        keyboard_a.add(key_gloomy)
        bot.send_message(callback.from_user.id, text='¬øC√≥mo est√°?', reply_markup=keyboard_a)
    if callback.data == 'wonderful':
        keyboard_a = types.InlineKeyboardMarkup()
        bot.send_message(callback.from_user.id, "¬°Fenomenal!", reply_markup=keyboard_a)
        bot.send_photo(callback.from_user.id, 'https://avatars.mds.yandex.net/i?id=e462852b1ad3a4e40e0376e8b82b21a406e5762d-10638828-images-thumbs&n=13')
    if callback.data == 'gloomy':
        keyboard_a = types.InlineKeyboardMarkup()
        bot.send_message(callback.from_user.id, '¬°No te preocupes! ¬°Todo va a ir bien!', reply_markup=keyboard_a)
        bot.send_photo(callback.from_user.id, 'https://avatars.mds.yandex.net/i?id=dfe4d51434162d24dcbd0b5c0b4390155f4d4ae5-4986689-images-thumbs&n=13')
    if callback.data == 'animals':
        keyboard_a = types.InlineKeyboardMarkup()
        key_pets = types.InlineKeyboardButton(text='Pets', callback_data='pets')
        keyboard_a.add(key_pets)
        key_domestic_animals = types.InlineKeyboardButton(text='Domestic animals', callback_data='domestic_animals')
        keyboard_a.add(key_domestic_animals)
        key_wild_animals = types.InlineKeyboardButton(text='Wild animals', callback_data='wild_animals')
        keyboard_a.add(key_wild_animals)
        key_exotic_animals = types.InlineKeyboardButton(text='Exotic animals', callback_data='exotic_animals')
        keyboard_a.add(key_exotic_animals)
        bot.send_message(callback.from_user.id, text="Choose the subtopic", reply_markup=keyboard_a)
    elif callback.data == 'fruits': #—Å–ª–æ–≤–∞—Ä—å –∑–∞–≥–∞–¥–æ–∫
        tasks = [{'question': 'la manzana is...',
                  'answers': ['Apple', 'Pear', 'Cherry', 'Banana'],
                  'right_answer': '1'},
                 {'question': 'la pera is...',
                  'answers': ['Apple', 'Pear', 'Mango', 'Kiwi'],
                  'right_answer': '2'},
                 {'question': 'la ciruela is...',
                  'answers': ['Plum', 'Orange', 'Grapes', 'Raspberry'],
                  'right_answer': '1'},

                 {'question': 'el lim√≥n is...',
                  'answers': ['Mango', 'lemon', 'Strawberry', 'Black —Åurrant'],
                  'right_answer': '2'},

                 {'question': 'la pi√±a is...',
                  'answers': ['Tangerine', 'Kiwi', 'Pineapple', 'Banana'],
                  'right_answer': '3'},

                 {'question': 'la uva is...',
                  'answers': ['Blackberry', 'Grapes', 'Date', 'Watermelon'],
                  'right_answer': '2'},

                 {'question': 'la mora is...',
                  'answers': ['Blackberry', 'Melon', 'Coconut', 'Kiwi'],
                  'right_answer': '1'},

                 {'question': 'el coco is...',
                  'answers': ['Mango', 'Fig', 'Coconut', 'Apple'],
                  'right_answer': '3'},

                 {'question': 'el higo is...',
                  'answers': ['Abricot', 'Apple', 'Pear', 'Fig'],
                  'right_answer': '4'},

                 {'question': 'el d√°til is...',
                  'answers': ['Date', 'Fig', 'Pear', 'Banana'],
                  'right_answer': '1'},

                 {'question': 'el durazno is...',
                  'answers': ['Grapes', 'Melon', 'Peach', 'Cherry'],
                  'right_answer': '3'},

                 {'question': 'el pl√°tano is...',
                  'answers': ['Grapes', 'Kiwi', 'Banana', 'Reddish'],
                  'right_answer': '3'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)): #–∫–Ω–æ–ø–∫–∏, –¥–æ–±–∞–≤–ª—è—é—â–∏–µ—Å—è –≤ —Ü–∏–∫–ª–µ
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1)) #–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id #id —Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫—Ç–æ –ø–∏—à–µ—Ç. –ö–ª—é—á —Å–ª–æ–≤–∞—Ä—è memory, –∫–æ—Ç—Ä—ã–π –¥–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ –∏–∑ —Ç–µ–º—ã –∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        memory[user_id] = ('fruits', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'vegetables':
        tasks = [{'question': 'la zanahoria is...',
                  'answers': ['Carrot', 'Cabbage', '–°auliflower'],
                  'right_answer': '1'},
                 {'question': 'el calabac√≠n is...',
                  'answers': ['Cabbage', 'Reddish', 'Zucchini'],
                  'right_answer': '3'},

                 {'question': 'el ajo is...',
                  'answers': ['Onion', 'Garlic', 'Broccoli'],
                  'right_answer': '2'},

                 {'question': 'la berenjena is...',
                  'answers': ['Eggplant', 'Tomato', 'Carrot'],
                  'right_answer': '1'},

                 {'question': 'la cebolla is...',
                  'answers': ['Onion', 'Carrot', 'Reddish'],
                  'right_answer': '1'},

                 {'question': 'el pimiento is...',
                  'answers': ['Green bean', 'Bulgarian pepper', 'Artichoke'],
                  'right_answer': '2'},

                 {'question': 'la remolacha is...',
                  'answers': ['Eggplant', 'Potato', 'Beet'],
                  'right_answer': '3'},

                 {'question': 'el ma√≠z is...',
                  'answers': ['Corn', 'Onion', 'Garlic'],
                  'right_answer': '1'},

                 {'question': ' la calabaza is...',
                  'answers': ['Pumpkin', 'Corn', 'Cabbage'],
                  'right_answer': '1'},

                 {'question': 'las aceitunas are...',
                  'answers': ['Tomatoes', 'Olives', 'Seeds'],
                  'right_answer': '2'},

                 {'question': 'el pepino is...',
                  'answers': ['Cucumber', 'Pumpkin', 'Tomato'],
                  'right_answer': '1'},

                 {'question': 'el hinojo is...',
                  'answers': ['Potato', 'Bean', 'Fennel'],
                  'right_answer': '3'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('vegetables', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'pets':
        tasks = [{'question': 'El gato is...',
                  'answers': ['Cat', 'Dog', 'Hamster'],
                  'right_answer': '1'},

                 {'question': 'El perro is...',
                  'answers': ['Fish', 'Parrot', 'Dog'],
                  'right_answer': '3'},

                 {'question': 'El hamster is...',
                  'answers': ['Rabbit', 'Hamster', 'Tortoise'],
                  'right_answer': '2'},

                 {'question': 'El perico is...',
                  'answers': ['Parrot', 'Cat', 'Rabbit'],
                  'right_answer': '1'},

                 {'question': 'El conejo is...',
                  'answers': ['Rabbit', 'Cat', 'Dog'],
                  'right_answer': '1'},

                 {'question': 'La rata is...',
                  'answers': ['Parrot', 'Rat', 'Hamster'],
                  'right_answer': '2'},

                 {'question': 'El pez is...',
                  'answers': ['Hamster', 'Tortoise', 'Fish'],
                  'right_answer': '3'},

                 {'question': 'La tortuga is...',
                  'answers': ['Tortoise', 'Cat', 'Snake'],
                  'right_answer': '1'},

                 {'question': 'El canario is...',
                  'answers': ['Canary', 'Rabbit', 'Dog'],
                  'right_answer': '1'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('pets', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'domestic_animals':
        tasks = [{'question': 'El caballo is...',
                  'answers': ['Cow', 'Horse', 'Bull'],
                  'right_answer': '2'},

                 {'question': 'La vaca is...',
                  'answers': ['Sheep', 'Duck', 'Cow'],
                  'right_answer': '3'},

                 {'question': 'La cabra is...',
                  'answers': ['Goose', 'Goat', 'Cow'],
                  'right_answer': '2'},

                 {'question': 'El ganso is...',
                  'answers': ['Goose', 'Pig', 'Bull'],
                  'right_answer': '1'},

                 {'question': 'Un toro is...',
                  'answers': ['Hen', 'Pig', 'Cow'],
                  'right_answer': '1'},

                 {'question': 'El cerdo is...',
                  'answers': ['Cow', 'Pig', 'Sheep'],
                  'right_answer': '2'},

                 {'question': 'La oveja is...',
                  'answers': ['Bull', 'Donkey', 'Sheep'],
                  'right_answer': '3'},

                 {'question': 'La gallina is...',
                  'answers': ['Hen', 'Goose', 'Donkey'],
                  'right_answer': '1'},

                 {'question': 'El gallo is...',
                  'answers': ['Rooster', 'Goat', 'Hen'],
                  'right_answer': '1'},

                 {'question': 'El pavo is...',
                  'answers': ['Turkey', 'Hen', 'Rooster'],
                  'right_answer': '1'},

                 {'question': 'El pato is...',
                  'answers': ['Duck', 'Horse', 'Sheep'],
                  'right_answer': '1'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('domestic_animals', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'wild_animals':
        tasks = [{'question': 'El oso is...',
                  'answers': ['Fox', 'Bear', 'Hare'],
                  'right_answer': '2'},

                 {'question': 'El zorro is...',
                  'answers': ['Beaver', 'Wolf', 'Fox'],
                  'right_answer': '3'},

                 {'question': 'El lobo is...',
                  'answers': ['Fox', 'Wolf', 'Bear'],
                  'right_answer': '2'},

                 {'question': 'El erizo is...',
                  'answers': ['Hedgehog', 'Beaver', 'Squirrel'],
                  'right_answer': '1'},

                 {'question': 'La ardilla is...',
                  'answers': ['Squirrel', 'Hare', 'Bear'],
                  'right_answer': '1'},

                 {'question': 'La liebre is...',
                  'answers': ['Fox', 'Hare', 'Wolf'],
                  'right_answer': '2'},

                 {'question': 'El alce is...',
                  'answers': ['Squirrel', 'Beaver', 'Moose'],
                  'right_answer': '3'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('wild_animals', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'exotic_animals':
        tasks = [{'question': 'El le√≥n is...',
                  'answers': ['Puma', 'Lion', 'panda'],
                  'right_answer': '2'},

                 {'question': 'El jaguar is...',
                  'answers': ['Tiger', 'Elephant', 'Jaguar'],
                  'right_answer': '3'},

                 {'question': 'El leopardo is...',
                  'answers': ['Monkey', 'Leopard', 'Bear'],
                  'right_answer': '2'},

                 {'question': 'El mono is...',
                  'answers': ['Monkey', 'Lion', 'Camel'],
                  'right_answer': '1'},

                 {'question': 'El puma is...',
                  'answers': ['Puma', 'Racoon', 'Giraffe'],
                  'right_answer': '1'},

                 {'question': 'El tigre is...',
                  'answers': ['Giraffe', 'Tiger', 'Elephant'],
                  'right_answer': '2'},

                 {'question': 'El panda is...',
                  'answers': ['Koala', 'Monkey', 'Panda'],
                  'right_answer': '3'},

                 {'question': 'El camello is...',
                  'answers': ['Elephant', 'Camel', 'Hippopotamus'],
                  'right_answer': '2'},

                 {'question': 'El elefante  is...',
                  'answers': ['Elephant', 'Tiger', 'Racoon'],
                  'right_answer': '1'},

                 {'question': 'La cebra is...',
                  'answers': ['Zebra', 'Camel', 'Crocodile'],
                  'right_answer': '1'},

                 {'question': 'El cocodrilo is...',
                  'answers': ['Crocodile', 'Camel', 'Racoon'],
                  'right_answer': '1'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('exotic_animals', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'weather':
        tasks = [{'question': 'When the Spaniards say "la nieve", it means...',
                  'answers': ['It`s snowy', 'It`s rainy', 'It`s hailing'],
                  'right_answer': '1'},

                 {'question': 'When the Spaniards say "la luvia", it means...',
                  'answers': ['It`s sunny', 'It`s foggy', 'It`s rainy'],
                  'right_answer': '3'},

                 {'question': 'Est√° nublado describes...',
                  'answers': ['Sunny weather', 'Cloudy weather', 'Partly cloudy weather'],
                  'right_answer': '2'},

                 {'question': 'Est√° despejado describes...',
                  'answers': ['Foggy weather', 'Snowy weather', 'Sunny weather'],
                  'right_answer': '3'},

                 {'question': 'Hace viento means...',
                  'answers': ['Today is windy', 'It`s hot today', 'It`s freezy today'],
                  'right_answer': '1'},

                 {'question': 'Hace mucho fr√≠o means...',
                  'answers': ['It`s brass monkey weather', 'It`s raining cats and dogs',
                              'It`s a perfect weather, beautiful day'],
                  'right_answer': '1'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('weather', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'weekdays':
        tasks = [{'question': 'El lunes is...',
                  'answers': ['Monday', 'Tuesday', 'Thursday'],
                  'right_answer': '1'},

                 {'question': 'El martes is...',
                  'answers': ['Sunday', 'Wednesday', 'Tuesday'],
                  'right_answer': '3'},

                 {'question': 'El mi√©rcoles is...',
                  'answers': ['Saturday', 'Wednesday', 'Friday'],
                  'right_answer': '2'},

                 {'question': 'El jueves is...',
                  'answers': ['Thursday', 'Sunday', 'Monday'],
                  'right_answer': '1'},

                 {'question': 'El viernes is...',
                  'answers': ['Friday', 'Wednesday', 'Sunday'],
                  'right_answer': '1'},

                 {'question': 'El s√°bado is...',
                  'answers': ['Tuesday', 'Monday', 'Saturday'],
                  'right_answer': '3'},

                 {'question': 'El domingo is...',
                  'answers': ['Saturday', 'Thursday', 'Sunday'],
                  'right_answer': '3'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('weekdays', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == 'colours':
        tasks = [{'question': 'Blanco is...',
                  'answers': ['White üïäÔ∏è', 'Black üç≥', 'Yellow ‚≠ê'],
                  'right_answer': '1'},

                 {'question': 'Negro is...',
                  'answers': ['Grey üêò', 'Brown ü••', 'Black üåë'],
                  'right_answer': '3'},

                 {'question': 'Amarillo is...',
                  'answers': ['Red ‚ù§Ô∏è', 'Yellow ‚≠ê', 'Pink üå∏'],
                  'right_answer': '2'},

                 {'question': 'Verde is...',
                  'answers': ['Green üçÄ', 'Blue üíé', 'Orange ü•ï'],
                  'right_answer': '1'},

                 {'question': 'Azul is...',
                  'answers': ['Blue üê¨', 'Brown üêª', 'Beige üçØ'],
                  'right_answer': '1'},

                 {'question': 'Marr√≥n is...',
                  'answers': ['Green ü•ù', 'Violet üîÆ', 'Brown ü¶î'],
                  'right_answer': '3'},

                 {'question': 'Lavanda is...',
                  'answers': ['Purple üçá', 'Violet üîÆ', 'Lavender ü¶Ñ'],
                  'right_answer': '3'},

                 {'question': 'Rosado is...',
                  'answers': ['Pink üå∑', 'Orange üçä', 'Blue üíé'],
                  'right_answer': '1'},

                 {'question': 'Rojo is...',
                  'answers': ['Red üçí', 'Beige üç¶', 'Green üçè'],
                  'right_answer': '1'},

                 {'question': 'Anaranjado is...',
                  'answers': ['Orange üçë', 'Yellow ‚≠ê', 'Beige ü•û'],
                  'right_answer': '1'},
                 ]
        task = random.choice(tasks)
        message = f'{task["question"]}'
        answers = task["answers"]
        keyboard_a = types.InlineKeyboardMarkup()
        for i in range(len(answers)):
            answer = types.InlineKeyboardButton(text=answers[i], callback_data=str(i + 1))
            keyboard_a.add(answer)
        exit = types.InlineKeyboardButton('Exit', callback_data='starting')
        keyboard_a.add(exit)
        user_id = callback.from_user.id
        memory[user_id] = ('colours', task['right_answer'])
        bot.send_message(callback.message.chat.id, message, reply_markup=keyboard_a)
    elif callback.data == memory[callback.from_user.id][1]: #id —Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫—Ç–æ –ø–∏—à–µ—Ç. –ö–ª—é—á —Å–ª–æ–≤–∞—Ä—è memory, –∫–æ—Ç—Ä—ã–π –¥–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ –∏–∑ —Ç–µ–º—ã –∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        keyboard_a = types.InlineKeyboardMarkup() #–ø–æ –∏–Ω–¥–µ–∫—Å—É 1 –≤–µ—Ä—Ö—É –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ –∏–Ω–¥–µ–∫—Å—É 0 —Ç–µ–º—É, —á—Ç–æ–± –ø–æ–º–Ω–∏–ª —Ç–æ–ø–∏–∫
        result = memory[callback.from_user.id][0]
        next_task = types.InlineKeyboardButton(text='Next question', callback_data=result)
        keyboard_a.add(next_task)
        bot.send_message(callback.message.chat.id, 'Great!', reply_markup=keyboard_a)
    else:
        bot.send_message(callback.message.chat.id, 'Please, use /help')

if __name__ == "__main__":
        while True:
            try:
                bot.polling(none_stop=True)
            except Exception as e:
                print(e)
